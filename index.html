<form action="https://docs.google.com/forms/d/e/1FAIpQLScWNOME8nZyB2ZVcsiUDXKlv6UwvHaHAbteg62QBbNLe5Qilw/formResponse" target="hidden_iframe" method="post" onsubmit="return test(this.wcheck.value)">
<p><input name="entry.273244886"  placeholder="名前" required></p>
<p><input name="entry.930638730" placeholder="メールアドレス" type="Mail" required></p>
<p><input name="entry.1457375592" id="pass" placeholder="パスワード" required></p>
<input type="submit" id="submitbutton" value="送信">
</form>
<iframe onload='if(submitted){window.location="";}' id=hidden_iframe name=hidden_iframe style=display:none></iframe>
<script type="text/javascript">
<--
var NGComments = ["死ね","バカ",".exe"]; // 簡易的なNGワードの設定
var regex = new RegExp(NGComments.join("|"));
function test(wcheck) {
  if (wcheck.match(regex) != null) {
    alert("ERROR: コメントにNGワードが含まれています");
    return false;
  }else{
    document.getElementById("pass").value = MD5(pass);
  }
  document.getElementById("submitbutton").disabled = true;
  textareas = document.getElementsByTagName('textarea');
  for(var i=0 ;i < textareas.length ;i ++ ){
    textareas[i].value = textareas[i].value.replace( /</g ,'&lt;' );
  }
  inputs = document.getElementsByTagName('input');
  for(var i=0 ;i < inputs.length ;i ++ ){
    inputs[i].value = inputs[i].value.replace( /</g ,'&lt;' );
  }
  return submitted=!0;
}
function MD5(input,input2) {
  var rawHash = Utilities.computeDigest(Utilities.DigestAlgorithm.MD5, input, Utilities.Charset.UTF_8);
  var txtHash = '';
  for (i = 0; i < rawHash.length; i++) {
    var hashVal = rawHash[i];
    if (hashVal < 0) {
      hashVal += 256;
    }
    if (hashVal.toString(16).length == 1) {
      txtHash += '0';
    }
    txtHash += hashVal.toString(16);
  }
  
  return txtHash;
}	
-->
</script>
